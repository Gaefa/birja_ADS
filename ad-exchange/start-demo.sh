#!/bin/bash
# ‚îÄ‚îÄ‚îÄ –ë–ò–†–ñ–ê –†–ï–ö–õ–ê–ú–´ ‚Äî –ó–∞–ø—É—Å–∫ –¥–µ–º–æ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
echo ""
echo "‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó"
echo "‚ïë   üöÄ –ë–ò–†–ñ–ê –†–ï–ö–õ–ê–ú–´ ‚Äî –ó–∞–ø—É—Å–∫...               ‚ïë"
echo "‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù"
echo ""

# –£–±–∏–≤–∞–µ–º —Å—Ç–∞—Ä—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –µ—Å–ª–∏ –µ—Å—Ç—å
pkill -f "adexchange-demo/server.js" 2>/dev/null

# –ö–æ–ø–∏—Ä—É–µ–º demo-—Å–µ—Ä–≤–µ—Ä –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—É—é –ø–∞–ø–∫—É (–±–µ–∑ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã –≤ –ø—É—Ç–∏)
mkdir -p /tmp/adexchange-demo
cp -f "$(dirname "$0")/demo.html" /tmp/adexchange-demo/index.html 2>/dev/null

# –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä
if [ -d /tmp/adexchange-demo/node_modules ]; then
  cd /tmp/adexchange-demo && node server.js &
  sleep 3
  echo "‚úÖ –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ http://localhost:3001"
  echo ""
  echo "–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: http://localhost:3001"
  echo ""
  echo "–¢–µ—Å—Ç–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã:"
  echo "  issuer1@test.ru  / pass123  (—ç–º–∏—Ç–µ–Ω—Ç, –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω)"
  echo "  blogger1@test.ru / pass123  (–±–ª–æ–≥–µ—Ä)"
  echo "  admin@adexchange.ru / admin123 (–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä)"
  echo ""
else
  echo "‚ùå node_modules –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ /tmp/adexchange-demo/"
  echo "   –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –¥–µ–º–æ —É–∂–µ –±—ã–ª–æ –∑–∞–ø—É—â–µ–Ω–æ —á–µ—Ä–µ–∑ Claude"
fi
